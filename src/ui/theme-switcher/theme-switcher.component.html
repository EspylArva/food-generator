<div class="filling-card">
    <button type="button" class="inline-flex w-8 h-8 p-0 items-center justify-center surface-0 dark:surface-800 border border-surface-200 dark:border-surface-600 rounded" (click)="onThemeToggler()">
        <i [ngClass]="'pi ' + iconClass()" class="dark:text-white"></i>
    </button>
    <button
        pStyleClass="@next"
        enterFromClass="hidden"
        enterActiveClass="animate-scalein"
        leaveToClass="hidden"
        leaveActiveClass="animate-fadeout"
        [hideOnOutsideClick]="true"
        type="button"
        class="inline-flex w-8 h-8 p-0 items-center justify-center surface-0 dark:surface-800 border border-surface-200 dark:border-surface-600 rounded"
        (click)="popover.toggle($event)"
    >
        <i class="pi pi-palette dark:text-white"></i>
    </button>
    
</div>
<p-popover #popover>
    <div class="options-container">
        <div class="primary-colors">
            <span>Primary Colors</span>
            <div>
                @for (primaryColor of primaryColors(); track primaryColor.name) {
                    <button
                        type="button"
                        [title]="primaryColor.name"
                        (click)="updateColors($event, 'primary', primaryColor)"
                        class="theme-button"
                        [ngStyle]="{
                            'background-color': primaryColor.name === 'noir' ? 'var(--text-color)' : primaryColor.palette['500'],
                            'outline-color': selectedPrimaryColor() === primaryColor.name ? 'var(--p-primary-color)' : ''
                        }"
                    ></button>
                }
            </div>
        </div>
        <div class="surface-colors">
            <span>Surface Colors</span>
            <div>
                @for (surface of surfaces; track surface.name) {
                    <button
                        type="button"
                        [title]="surface.name"
                        (click)="updateColors($event, 'surface', surface)"
                        class="theme-button"
                        [ngStyle]="{
                            'background-color': surface.palette['500'],
                            'outline-color': selectedSurfaceColor() === surface.name ? 'var(--p-primary-color)' : ''
                        }"
                    ></button>
                }
            </div>
        </div>
        <div class="preset-selector">
            <span class="text-sm font-medium">Preset</span>
            <p-selectbutton [options]="presets" [ngModel]="selectedPreset()" (ngModelChange)="onPresetChange($event)" [unselectable]="false" size="small" />
        </div>
        <div class="ripple-effect-toggle">
            <span class="text-sm font-medium m-0">Ripple Effect</span>
            <p-toggleswitch [(ngModel)]="ripple" />
        </div>

    </div>
</p-popover>